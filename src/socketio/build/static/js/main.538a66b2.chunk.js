(this.webpackJsonpbt_beacons=this.webpackJsonpbt_beacons||[]).push([[0],{113:function(e,t){e.exports="data:image/png;base64,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"},114:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAGHBAMAAADSDv41AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX////G0uMANYCNpcYuWZckUZIZSYy5Q268AAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EICgEwGfTuPSYAAAJFSURBVHja7dBRCcAwDEDB1EoVVETqZP41zEE/MjIo3FPwuIimxqy0QgABAgQogAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAAFECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIEKAAAgQIUAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABCiBAgAABAgQIECBAgADPZVO7BPjkbcXUpwACBAgQoAACBAhQAAECBCiAAAECFECAAAEKIECAAAUQIECAAggQIEABBAgQoAACBAhQAAECBAhQAAECBCiAAAECFECAAAEKIECAAAUQIECAAggQIEABBAgQoAACBAhQAAECBCiAAAECFECAAAECFECAAAEKIECAAAUQIECAAvgTYDa1SztP3lZ0NUqAKwQQIECAAggQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAhQAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAEKIECAAAUQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQoAACBAgQIECAAAECBAjw2As8nhGpLY8OgwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOC0xMFQwMTo0ODoyNSswMDowMP8idWAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDgtMTBUMDE6NDg6MjUrMDA6MDCOf83cAAAAAElFTkSuQmCC"},116:function(e){e.exports=JSON.parse('{"kieli":"englanniksi","Beacon info":"Beacon Info","Receiver info":"Receiver Info","Beacon locations":"Beacon Locations","Beacon User":"Beacon User","Beacon ID":"Beacon ID","Receiver ID":"Receiver ID","Receiver Location":"Receiver Location","Location Type":"Location Type","Signal DB":"Signal DB","Time":"Measurement Time (seconds)","Status":"Status","Location":"Location","Edit":"Edit","Delete":"Delete","Add New":"Add New"}')},117:function(e){e.exports=JSON.parse('{"kieli":"suomeksi","Beacon info":"Ranneketiedot","Receiver info":"Vastaanotintiedot","Beacon locations":"Rannekkeiden Sijainnit","Beacon User":"Rannekkeen nimi","Beacon ID":"Ranneke ID","Receiver ID":"Vastaanotin ID","Receiver Location":"Vastaanottimen sijainti","Location Type":"Sijaintityyppi","Signal DB":"Signaalin vahvuus","Time":"Mittausaika (sekunneissa)","Status":"Tilanne","Location":"Sijainti","Edit":"Muokkaa","Delete":"Poista","Add New":"Lis\xe4\xe4 Uusi"}')},125:function(e,t,a){e.exports=a(193)},130:function(e,t,a){},190:function(e,t){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(8),r=a.n(c),i=(a(130),a(17)),l=a(18),s=a(47),A=a(21),u=a(20),E=a(235),m=a(238),g=a(236),d=a(234),b=a(29),h=a(38),p=a(19),f=a(194),C=a(229),B=a(230),v=a(231),I=a(232),k=a(233),Q=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){fetch("http://localhost:4000/receiver_info").then((function(e){return e.json()})).then((function(e){n.setState({tieto:e})}))},n.state={tieto:[]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return o.a.createElement("div",{style:{paddingLeft:"20%",paddingRight:"20%",paddingTop:"1%"}},o.a.createElement(f.a,null,o.a.createElement(C.a,null,o.a.createElement(B.a,null,o.a.createElement(v.a,null,o.a.createElement(I.a,null,t("Receiver ID")),o.a.createElement(I.a,null,t("Receiver Location")),o.a.createElement(I.a,null,t("Location Type")))),o.a.createElement(k.a,null,this.state.tieto.map((function(e){return o.a.createElement(v.a,{key:e.receiver_id},o.a.createElement(I.a,null,e.receiver_id),o.a.createElement(I.a,null,e.receiver_location),"red"===e.location_type&&o.a.createElement(I.a,{style:{backgroundColor:"red"}},e.location_type),"yellow"===e.location_type&&o.a.createElement(I.a,{style:{backgroundColor:"yellow"}},e.location_type),"green"===e.location_type&&o.a.createElement(I.a,{style:{backgroundColor:"green"}},e.location_type))}))))))}}]),a}(n.Component),j=Object(p.b)("translation")(Q),y=a(239),O=a(60),w=a(237),D=a(61),S=a.n(D),U=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).add_beacon=function(e){var t=new FormData;t.append("user",n.state.user),t.append("id",n.state.id),""===n.state.user||n.state.user.match(/^ *$/)||""===n.state.id||n.state.id.match(/^ *$/)?alert("Beacon user tai Beacon ID ei voi olla tyhj\xe4"):S.a.post("http://localhost:4000/new_beacon",t)},n.changeData=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.componentDidMount=function(){fetch("http://localhost:4000/beacon_info").then((function(e){return e.json()})).then((function(e){n.setState({tieto:e})}))},n.state={tieto:[],user:"",id:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return o.a.createElement("div",null,o.a.createElement(w.a,{label:t("Beacon User"),name:"user",onChange:this.changeData}),o.a.createElement(w.a,{label:t("Beacon ID"),name:"id",onChange:this.changeData}),o.a.createElement(d.a,{onClick:this.add_beacon},t("Add New")))}}]),a}(n.Component),L=Object(p.b)("translation")(U),N=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).edit_beacon=function(e){var t=new FormData;t.append("user",n.state.user),S.a.post("http://localhost:4000/beacon/edit/"+n.state.id,t)},n.changeData=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.componentDidMount=function(){var e=n.props.match.params;fetch("http://localhost:4000/beacon/one/"+e.id).then((function(e){return e.json()})).then((function(t){n.setState({user:e.user,id:e.id})}))},n.state={tieto:[],user:"",id:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return o.a.createElement("div",null,o.a.createElement(w.a,{label:t("Beacon User"),name:"user",value:this.state.user,onChange:this.changeData}),o.a.createElement(d.a,{onClick:this.edit_beacon},t("Edit")))}}]),a}(n.Component),R=Object(p.b)("translation")(N),M=a(62),T=a.n(M),F=a(63),_=a.n(F),z=a(64),V=a.n(z),Z=a(65),x=a.n(Z),G=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){fetch("http://localhost:4000/beacon_info").then((function(e){return e.json()})).then((function(e){n.setState({tieto:e})}))},n.handlePress=function(){n.setState({navigate:!0})},n.delete_beacon=function(e){fetch("http://localhost:4000/delete/"+e).then((function(e){return e.json()})).then((function(t){n.setState((function(t){return{tieto:t.tieto.filter((function(t){return t.beacon_id!==e}))}}))}))},n.state={tieto:[],navigate:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.t;t.i18n;return o.a.createElement("div",{style:{paddingLeft:"20%",paddingRight:"20%",paddingTop:"1%"}},o.a.createElement(b.a,null,o.a.createElement(f.a,null,o.a.createElement(C.a,null,o.a.createElement(B.a,null,o.a.createElement(v.a,null,o.a.createElement(I.a,null),o.a.createElement(I.a,null,a("Beacon User")),o.a.createElement(I.a,null,a("Beacon ID")))),o.a.createElement(k.a,null,this.state.tieto.map((function(t){return o.a.createElement(v.a,{key:t.beacon_id},"e2:e3:23:d1:b0:54"===t.beacon_id&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:T.a})),"d6:2c:ca:c0:d4:9c"===t.beacon_id&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:_.a})),"f2:36:00:21:c0:50"===t.beacon_id&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:V.a})),"e2:18:ef:c9:66:f4"===t.beacon_id&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:x.a})),o.a.createElement(I.a,null,t.beacon_user),o.a.createElement(I.a,null,t.beacon_id),o.a.createElement(d.a,{style:{backgroundColor:"khaki"}},o.a.createElement(b.b,{to:"/beacon/one/"+t.beacon_id},"Edit")),o.a.createElement(d.a,{style:{backgroundColor:"indianred"},onClick:function(){window.confirm("Beacon user: "+t.beacon_user+"\nBeacon ID: "+t.beacon_id+"\nAre you sure you want to delete this user?")&&e.delete_beacon.bind(e,t.beacon_id)()}},"Delete"))}))))),o.a.createElement("div",null,o.a.createElement("nav",null,o.a.createElement(b.b,{to:"/AddBeacon"}," ",a("Add New")," ")),o.a.createElement(h.c,null,o.a.createElement(h.a,{path:"/AddBeacon",component:L}),o.a.createElement(h.a,{path:"/beacon/one/:id",component:R})))))}}]),a}(n.Component),Y=Object(p.b)("translation")(G),P=a(68),W=a(66),X=a.n(W),J=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).testWarnings=function(e){n.state.tieto[0].signal_db<-59?n.setState({warning:[].concat(Object(P.a)(n.state.warning),[n.state.tieto[0]])}):n.state.tieto[1].signal_db<-59?n.setState({warning:[].concat(Object(P.a)(n.state.warning),[n.state.tieto[1]])}):n.state.tieto[2].signal_db<-59&&n.setState({warning:[].concat(Object(P.a)(n.state.warning),[n.state.tieto[2]])})},n.state={tieto:[],endpoint:"http://127.0.0.1:4001",warning:[],newWarning:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:4000/beacon_locations_average").then((function(e){return e.json()})).then((function(t){e.setState({tieto:t});var a=e.state.endpoint;X()(a).on("emitSocket",(function(t){return e.setState({tieto:t})}))}))}},{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return o.a.createElement("div",{style:{paddingLeft:"20%",paddingRight:"20%",paddingTop:"1%"}},o.a.createElement(f.a,null,o.a.createElement(C.a,null,o.a.createElement(B.a,null,o.a.createElement(v.a,null,o.a.createElement(I.a,null),o.a.createElement(I.a,null,t("Beacon User")),o.a.createElement(I.a,null,t("Location")),o.a.createElement(I.a,null,t("Time")),o.a.createElement(I.a,null,t("Status")))),o.a.createElement(k.a,null,this.state.tieto.map((function(e){return o.a.createElement(v.a,{key:e.beacon_user},"Ranneke1"===e.beacon_user&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:T.a})),"Ranneke2"===e.beacon_user&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:_.a})),"Ranneke3"===e.beacon_user&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:V.a})),"Ranneke4"===e.beacon_user&&o.a.createElement(I.a,null,o.a.createElement(y.a,{src:x.a})),"Alarm"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"red"}},e.beacon_user),"Unsure"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"yellow"}},e.beacon_user),"OK"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"green"}},e.beacon_user," "),"Alarm"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"red"}},e.receiver_location),"Unsure"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"yellow"}},e.receiver_location),"OK"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"green"}},e.receiver_location," "),"Alarm"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"red"}},e.timediff_in_seconds),"Unsure"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"yellow"}},e.timediff_in_seconds),"OK"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"green"}},e.timediff_in_seconds),"Alarm"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"red"}},e.status),"Unsure"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"yellow"}},e.status),"OK"===e.status&&o.a.createElement(I.a,{style:{backgroundColor:"green"}},e.status," "))}))))))}}]),a}(n.Component),K=Object(p.b)("translation")(J),H=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={response:[],endpoint:"http://127.0.0.1:4002"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.endpoint;X()(t).on("test",(function(t){return e.setState({response:t})}))}},{key:"render",value:function(){var e=this.state.response;return o.a.createElement("div",{style:{textAlign:"center"}},"Saatu vastaus: ",e)}}]),a}(n.Component),q=a(113),$=a.n(q),ee=a(114),te=a.n(ee),ae=function(e){Object(A.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleActiveTabChange=function(e,t){n.setState({activeTab:t})},n.switchEn=function(){n.setState({isEnglish:!0}),n.props.i18n.changeLanguage("en")},n.switchFi=function(){n.setState({isEnglish:!1}),n.props.i18n.changeLanguage("fi")},n.state={activeTab:0,isEnglish:!0},n.switchEn=n.switchEn.bind(Object(s.a)(n)),n.switchFi=n.switchFi.bind(Object(s.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t;e.i18n;return o.a.createElement("div",null,o.a.createElement(b.a,null,o.a.createElement("div",{style:{paddingLeft:"20%",paddingRight:"20%"}},o.a.createElement(E.a,{position:"static"},o.a.createElement(m.a,{value:this.state.activeTab,onChange:this.handleActiveTabChange},o.a.createElement(g.a,{label:t("Beacon info"),component:b.b,to:"/"}),o.a.createElement(g.a,{label:t("Receiver info"),component:b.b,to:"/ReceiverInfo"}),o.a.createElement(g.a,{label:t("Beacon locations"),component:b.b,to:"/BeaconLocations"}),o.a.createElement(g.a,{label:"Beacon realtime",component:b.b,to:"/BeaconRealtime"}),o.a.createElement(d.a,{style:{marginLeft:"auto"},onClick:this.switchEn},o.a.createElement("img",{src:$.a,alt:"FlagOfUK",height:"25",width:"40"})),o.a.createElement(d.a,{onClick:this.switchFi},o.a.createElement("img",{src:te.a,alt:"FlagOfFI",height:"25",width:"40"}))))),o.a.createElement("div",null,o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/",component:Y}),o.a.createElement(h.a,{path:"/ReceiverInfo",component:j}),o.a.createElement(h.a,{path:"/BeaconLocations",component:K}),o.a.createElement(h.a,{path:"/BeaconRealtime",component:H})))))}}]),a}(n.Component),ne=Object(p.b)("translation")(ae),oe=a(79),ce=a(115),re=a(116),ie=a(117);oe.a.use(ce.a).init({resources:{en:{translation:re},fi:{translation:ie}},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{useSuspense:!1,wait:!0}});var le=oe.a;var se=function(){return o.a.createElement(p.a,{i18n:le},o.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){e.exports=a.p+"static/media/beaconuser1.363f22ff.jpg"},63:function(e,t,a){e.exports=a.p+"static/media/beaconuser2.b15c95ec.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/beaconuser3.f73a10d9.jpg"},65:function(e,t,a){e.exports=a.p+"static/media/beaconuser4.747fe197.jpg"}},[[125,1,2]]]);
//# sourceMappingURL=main.538a66b2.chunk.js.map